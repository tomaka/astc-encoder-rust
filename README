# ASTC encoder transpiled to Rust

This repository contains a version of https://github.com/ARM-software/astc-encoder/ transpiled to Rust using [c2rust](https://github.com/immunant/c2rust).

Performances haven't been measured. The objective of this repository is to have something that can easily be compiled for any platform, which is something that Rust does well.

## Build

In order to re-generate this code, do the following:

```
docker build -t test .
docker create --name dummy test
docker cp dummy:/root/output/final_output .
docker rm dummy
docker rmi test
```

All version numbers and commits are pinned in the Dockerfile. Updating any version
needs to be done manually by updating the Dockerfile.

Unfortunately, the generated Rust project doesn't compile immediately, and needs some tweaks:

- Replaced `0 as libc::c_int as uint32_t` with just `0`, to fix mismatches between `i32` and `u32`.
